local Library = {}
Library.MainColor = Color3.new(0.098, 0.098, 0.098)
Library.BackgroundColor = Color3.new(0.137, 0.137, 0.137)
Library.AccentColor = Color3.new(0.298, 0.447, 0.894)
Library.OutlineColor = Color3.new(0.176, 0.176, 0.176)
Library.TextColor = Color3.new(0.9, 0.9, 0.9)
Library.Font = Enum.Font.Gotham
Library.RegistryMap = {}

local ProtectGui = protectgui or (syn and syn.protect_gui) or (function(gui)
    gui.Parent = cloneref(game:GetService("CoreGui"))
end)

local TweenService = game:GetService("TweenService")
local UserInputService = cloneref(game:GetService("UserInputService"))
local HttpService = cloneref(game:GetService("HttpService"))
local CoreGui = cloneref(game:GetService("CoreGui"))

local PastebinURL = "https://pastebin.com/raw/YOUR_PASTEBIN_ID" -- Replace with your Pastebin link

local ScreenGui = Instance.new("ScreenGui")
ProtectGui(ScreenGui)
ScreenGui.Name = "GOATKeySystem"
ScreenGui.Parent = CoreGui

local function GetValidKeys()
    local success, response = pcall(function()
        return game:HttpGet(PastebinURL)
    end)
    if success then
        return HttpService:JSONDecode(response)
    else
        return {}
    end
end

function Library:CreateWindow()
    local Window = {}
    local Library = self

    local Outer = Library:Create('Frame', {
        AnchorPoint = Vector2.new(0.5, 0.5),
        BackgroundColor3 = Library.OutlineColor,
        BorderSizePixel = 0,
        Position = UDim2.fromScale(0.5, 0.5),
        Size = UDim2.fromOffset(300, 150),
        Visible = true,
        ZIndex = 1,
        Parent = ScreenGui
    })

    Library:MakeDraggable(Outer)

    local Inner = Library:Create('Frame', {
        BackgroundColor3 = Library.MainColor,
        BorderColor3 = Library.OutlineColor,
        BorderMode = Enum.BorderMode.Inset,
        Position = UDim2.new(0, 1, 0, 1),
        Size = UDim2.new(1, -2, 1, -2),
        ZIndex = 1,
        Parent = Outer
    })

    local TitleLabel = Library:CreateLabel({
        Position = UDim2.new(0, 10, 0, 0),
        Size = UDim2.new(0, 0, 0, 25),
        Text = "GOAT Key System",
        TextXAlignment = Enum.TextXAlignment.Left,
        ZIndex = 1,
        Parent = Inner
    })

    local KeyBox = Library:Create('TextBox', {
        BackgroundTransparency = 0.2,
        Position = UDim2.new(0.1, 0, 0.3, 0),
        Size = UDim2.new(0.8, 0, 0, 30),
        Font = Library.Font,
        PlaceholderText = "Enter Key...",
        PlaceholderColor3 = Color3.new(0.7, 0.7, 0.7),
        Text = "",
        TextColor3 = Library.TextColor,
        TextSize = 14,
        ZIndex = 2,
        Parent = Inner
    })

    local ErrorLabel = Library:CreateLabel({
        Position = UDim2.new(0.1, 0, 0.55, 0),
        Size = UDim2.new(0.8, 0, 0, 20),
        Text = "",
        TextColor3 = Color3.new(1, 0, 0),
        TextSize = 14,
        ZIndex = 2,
        Parent = Inner
    })

    local SubmitButton = Library:Create('TextButton', {
        BackgroundColor3 = Library.AccentColor,
        Position = UDim2.new(0.35, 0, 0.7, 0),
        Size = UDim2.new(0.3, 0, 0, 30),
        Font = Library.Font,
        Text = "Submit",
        TextColor3 = Library.TextColor,
        TextSize = 14,
        ZIndex = 2,
        Parent = Inner
    })

    local function ValidateKey()
        local inputKey = KeyBox.Text
        local validKeys = GetValidKeys()

        if table.find(validKeys, inputKey) then
            ScreenGui:Destroy() -- Close key system
        else
            ErrorLabel.Text = "Key Incorrect or Expired"
            KeyBox.Text = ""
        end
    end

    SubmitButton.MouseButton1Click:Connect(ValidateKey)
end

Library:CreateWindow()
